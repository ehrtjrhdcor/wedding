<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="모바일 청첩장">
    <title>청첩장</title>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <!-- 네이버 지도 API -->
    <!-- <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpClientId=2wtt0c80a1"></script> -->
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=2wtt0c80a1"></script>

    <!-- Google API -->
    <script src="https://apis.google.com/js/api.js" onload="gapiLoaded()"></script>
    <script src="https://accounts.google.com/gsi/client" async defer onload="gisLoaded()"></script>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js';
        import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, deleteDoc, doc, updateDoc } from 'https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js';

        const firebaseConfig = {
            apiKey: "AIzaSyA2BZV0aIc7VjmHY4oats8vNZtuyVu9S50",
            authDomain: "wedding-27c94.firebaseapp.com",
            projectId: "wedding-27c94",
            storageBucket: "wedding-27c94.firebasestorage.app",
            messagingSenderId: "406271324350",
            appId: "1:406271324350:web:306c638c3f8070e5bb2eef",
            measurementId: "G-TGGJ6LBN4H"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // 전역으로 사용할 수 있도록 window에 저장
        window.db = db;
        window.firestoreModules = { collection, addDoc, query, orderBy, onSnapshot, deleteDoc, doc, updateDoc };
    </script>
</head>
<body>
    <!-- 메인 헤더 -->
    <section class="hero">
        <img src="images/1.png" alt="Frame 3" class="frame-3-image">
        
        <!-- 인사말 -->
        <div class="greeting-content">
            <div class="container">
                <div class="invitation-label">INVITATION</div>
                <h1 class="invitation-title">저희 결혼합니다!</h1>
                <div class="greeting-text">
                    <p>하얀 눈이 소복이 쌓인 겨울날,</p>
                    <p>우리 두 사람의 사랑이 새로이 시작됩니다.</p>
                    <p>언제나 따스한 마음으로 서로를 품으며</p>
                    <p>평생 함께할 것을 약속드리는 소중한 날</p>
                    <p>귀한 발걸음으로 축복해주시면</p>
                    <p>그 마음 오래도록 가슴 깊이 간직하겠습니다.</p>
                </div>
                <div class="greeting-divider"></div>
                <div class="greeting-names">
                    <p>장승용·정혜정<span class="relation">의 장남</span> 원석</p>
                    <p>김영민·조기순<span class="relation">의 장녀</span> 한비</p>
                </div>
            </div>
        </div>
        
        <!-- 달력 섹션 -->
        <div class="calendar-section">
            <div class="container">
                <div class="wedding-date-large">2026.01.11</div>
                <div class="wedding-time">일요일 오전 11시</div>
                
                <div class="calendar-container">
                    <div class="calendar-header">
                        <span>일</span>
                        <span>월</span>
                        <span>화</span>
                        <span>수</span>
                        <span>목</span>
                        <span>금</span>
                        <span>토</span>
                    </div>
                    <div class="calendar-grid" id="calendarGrid">
                        <!-- 달력 날짜들이 여기에 동적으로 생성됩니다 -->
                    </div>
                </div>
                
                <div class="countdown-section">
                    <div class="countdown-labels">
                        <div class="countdown-label-item">
                            <div class="countdown-label">DAYS</div>
                            <div class="countdown-value" id="countdownDays">00</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-label-item">
                            <div class="countdown-label">HOUR</div>
                            <div class="countdown-value" id="countdownHours">00</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-label-item">
                            <div class="countdown-label">MIN</div>
                            <div class="countdown-value" id="countdownMinutes">00</div>
                        </div>
                        <div class="countdown-separator">:</div>
                        <div class="countdown-label-item">
                            <div class="countdown-label">SEC</div>
                            <div class="countdown-value" id="countdownSeconds">00</div>
                        </div>
                    </div>
                    <div class="wedding-day-message">원석, 한비의 결혼식이 <span class="wedding-day-count" id="weddingDayCount">0</span>일 남았습니다.</div>
                </div>
            </div>
        </div>
        
        <div class="hero-top" style="display: none;">
            <div class="hero-content">
                <h1 class="fade-in">저희 결혼합니다!</h1>
                <div class="names">
                    <span class="groom-name">광현이아님 이름</span>
                    <span class="divider">♥</span>
                    <span class="bride-name">신부 이름</span>
                </div>
                <p class="wedding-date">2025년 00월 00일 00요일 오후 00시</p>
            </div>
        </div>
    </section>

    <!-- 갤러리 -->
    <section class="gallery">
        <div class="container">
            <div class="gallery-label">GALLERY</div>
            <h2 class="gallery-title">웨딩 갤러리</h2>
            <div class="gallery-wrapper">
                <div class="gallery-grid" id="galleryGrid">
                    <div class="gallery-item" onclick="openModal(0)">
                        <img src="images/4.jpg" alt="웨딩 사진 1">
                    </div>
                    <div class="gallery-item" onclick="openModal(1)">
                        <img src="images/10.jpg" alt="웨딩 사진 2">
                    </div>
                    <div class="gallery-item" onclick="openModal(2)">
                        <img src="images/11.jpg" alt="웨딩 사진 3">
                    </div>
                <div class="gallery-item" onclick="openModal(3)">
                    <img src="images/45.jpg" alt="웨딩 사진 4">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(4)">
                    <img src="images/22.jpg" alt="웨딩 사진 5">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(5)">
                    <img src="images/24.jpg" alt="웨딩 사진 6">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(6)">
                    <img src="images/32.jpg" alt="웨딩 사진 7">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(7)">
                    <img src="images/26.jpg" alt="웨딩 사진 8">
                </div>
                <div class="gallery-item gallery-item-hidden" onclick="openModal(8)">
                    <img src="images/17.jpg" alt="웨딩 사진 9">
                </div>
                </div>
                <div class="gallery-fade-overlay" id="galleryFadeOverlay"></div>
            </div>
            <div class="gallery-more-container">
                <button class="gallery-more-btn" id="galleryMoreBtn" onclick="showMoreGallery()">
                    더보기 <span class="gallery-more-arrow">▼</span>
                </button>
            </div>
        </div>
    </section>

    <!-- 이미지 모달 -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImage">
        <div class="modal-nav">
            <button class="modal-prev" onclick="changeImage(-1)">&#10094;</button>
            <button class="modal-next" onclick="changeImage(1)">&#10095;</button>
        </div>
    </div>

    <!-- 오시는 길 -->
    <section class="location">
        <div class="container">
            <div class="location-label">LOCATION</div>
            <h2 class="location-title">오시는 길</h2>
            
            <div class="location-info">
                <h3 class="venue-name">순천아모르웨딩컨벤션</h3>
                <p class="venue-address">전남 순천시 서면 압곡길 94</p>
                <p class="venue-phone">Tel. 061-752-1000</p>
            </div>

            <div class="map-container">
                <div id="map" style="width:100%; height:400px;"></div>
                <button class="btn-map-image" onclick="viewMapImage()">
                    <span class="map-icon">📍</span>
                    약도 이미지 보기
                </button>
            </div>

            <div class="navigation-section">
                <h3 class="navigation-title">내비게이션</h3>
                <p class="navigation-desc">원하시는 앱을 선택하시면 길안내가 시작됩니다.</p>
                <div class="navigation-buttons">
                    <button onclick="openNaverMap()" class="btn-nav naver">
                        <span class="nav-icon">📍</span>
                        네이버지도
                    </button>
                    <button onclick="openTmap()" class="btn-nav google">
                        <span class="nav-icon">🌏</span>
                        구글지도
                    </button>
                    <button onclick="openKakaoNavi()" class="btn-nav kakao">
                        <span class="nav-icon">💬</span>
                        카카오내비
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- 마음 전하실 곳 -->
    <section class="account">
        <div class="container">
            <div class="account-label">ACCOUNT</div>
            <h2 class="account-title">마음 전하실 곳</h2>
            
            <div class="account-message">
                <p>참석이 어려우신 분들을 위해</p>
                <p>계좌번호를 기재하였습니다.</p>
                <p>너그러운 마음으로 양해 부탁드립니다.</p>
            </div>

            <div class="account-sections">
                <div class="account-section-item" onclick="toggleAccountSection('groom')">
                    <span class="account-section-label">신랑측</span>
                    <span class="account-arrow" id="groomArrow">▼</span>
                </div>
                <div class="account-section-content" id="groomContent" style="display: none;">
                    <div class="account-details">
                        <p class="account-name">신랑 장원석</p>
                        <div class="account-bank-info">
                            <span class="bank-name">우리은행</span>
                            <span class="account-number">1002-257-057614</span>
                            <span class="account-copy-icon" onclick="copyAccount('우리은행', '1002-257-057614')">📋</span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('우리은행', '1002257057614', '장원석')">💳</span>
                        </div>
                    </div>
                    <div class="account-details">
                        <p class="account-name">부 장승용</p>
                        <div class="account-bank-info">
                            <span class="bank-name">우리은행</span>
                            <span class="account-number">1002-500-903120</span>
                            <span class="account-copy-icon" onclick="copyAccount('우리은행', '1002-500-903120')">📋</span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('우리은행', '1002500903120', '장승용')">💳</span>
                        </div>
                    </div>
                </div>

                <div class="account-section-item" onclick="toggleAccountSection('bride')">
                    <span class="account-section-label">신부측</span>
                    <span class="account-arrow" id="brideArrow">▼</span>
                </div>
                <div class="account-section-content" id="brideContent" style="display: none;">
                    <div class="account-details">
                        <p class="account-name">신부 김한비</p>
                        <div class="account-bank-info">
                            <span class="bank-name">신한은행</span>
                            <span class="account-number">110-579-360036</span>
                            <span class="account-copy-icon" onclick="copyAccount('신한은행', '110-579-360036')">📋</span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('신한은행', '110579360036', '김한비')">💳</span>
                        </div>
                    </div>
                    <div class="account-details">
                        <p class="account-name">부 김영민</p>
                        <div class="account-bank-info">
                            <span class="bank-name">농협</span>
                            <span class="account-number">351-1048-3910-23</span>
                            <span class="account-copy-icon" onclick="copyAccount('농협', '351-1048-3910-23')">📋</span>
                            <span class="account-kakaopay-icon" onclick="sendKakaoPay('농협', '35110483910123', '김영민')">💳</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- 방명록 -->
    <section class="guestbook">
        <div class="guestbook-label">GUESTBOOK</div>
        <h2 class="guestbook-title">방명록</h2>
        
        <div class="guestbook-input-area">
            <div id="guestbookEmptyBox" class="guestbook-empty-box" onclick="showGuestbookForm()" style="display: none;">
                <div class="guestbook-empty-icon">✎</div>
                <div class="guestbook-empty-text">방명록 작성하기</div>
            </div>
            <div id="messageList" class="message-list">
                <!-- 메시지가 여기에 표시됩니다 -->
            </div>
            <div class="guestbook-more-container" id="guestbookMoreContainer" style="display: none;">
                <button class="guestbook-more-btn" id="guestbookMoreBtn" onclick="showMoreMessages()">
                    더보기 <span class="guestbook-more-arrow">▼</span>
                </button>
            </div>
        </div>
        
        <button class="guestbook-write-btn" onclick="showGuestbookForm()">
            작성하기
        </button>

        <div class="guestbook-form" id="guestbookForm" style="display: none;">
            <input type="text" id="guestName" placeholder="이름" maxlength="20">
            <input type="password" id="guestPassword" placeholder="비밀번호" maxlength="20">
            <textarea id="guestMessage" placeholder="축하 메시지를 남겨주세요" maxlength="200"></textarea>
            <button onclick="submitMessage()">메시지 남기기</button>
        </div>
    </section>

    <!-- 스냅 섹션 -->
    <section class="snap-section">
        <div class="container">
            <div class="snap-label">CAPTURE OUR MOMENTS</div>
            <h2 class="snap-title">스냅</h2>
            
            <div class="snap-instructions">
                <p>신랑신부의 행복한 순간을 담아주세요.</p>
                <p>예식 당일, 아래 버튼을 통해 사진을 올려주세요.</p>
                <p>많은 참여 부탁드려요!</p>
            </div>

            <div class="snap-upload-section">
                <input type="file" id="photoInput" accept="image/*" multiple style="display: none;" onchange="handlePhotoSelect(event)">
                <button class="btn-upload-photo" onclick="uploadPhoto()">사진 업로드</button>
                <div class="upload-availability">
                    <p>2026-01-11 11:00부터</p>
                    <p>업로드 가능합니다.</p>
                </div>
                <div id="uploadProgress" style="display: none; margin-top: 10px;">
                    <p id="uploadStatus">업로드 중...</p>
                </div>
            </div>
        </div>
    </section>

    <!-- 카카오톡 공유 -->
    <div class="kakao-share-section">
        <button onclick="shareKakao()" class="btn-kakao-share">
            <span class="kakao-icon">💬</span>
            카카오톡으로 초대장 보내기
        </button>
    </div>

    <script src="script.js"></script>
</body>
</html>
